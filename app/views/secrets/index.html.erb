<div class="container">
  <p id="notice"><%= notice %></p>

  <h1>Clientes cadastrados</h1>
  
  <%= link_to 'Novo Cliente', new_secret_path, class: "btn btn-outline-dark create-action-button-alignment" %>

  <table class="table table-responsive-lg table-hover table-striped"> 
    <thead class="b-primary-soft">
      <tr>
        <th scope="col">Nome</th>
        <th scope="col">Endere√ßo</th>
        <th scope="col">Login PPP</th>
        <th scope="col">Senha</th>
        <th scope="col">Vencimento</th>
        <th scope="col">Plano</th>
        <th colspan="4"></th>
      </tr>
    </thead>

    <tbody>
      <% @secrets.each_with_index do |secret, dx| %>
      <tr class="<%= !secret.enabled ? "txt-accent font-weight-bold" : "" %> ">
          <td scope="row"><%= secret.name %></td>
          <td><%= secret.address %></td>
          <td><%= secret.secret %></td>
          <td><%= secret.secret_password %></td>
          <td><%= secret.due_date %></td>
          <td><%= secret.plan.profile_name %></td>
          <td><%= link_to 'Ver', secret, class:"btn btn-info" %></td>
          <td><%= link_to 'Editar', edit_secret_path(secret), class: "btn btn-primary" %></td>
          <td><%= link_to 'Deletar', secret, method: :delete, data: { confirm: 'Tem certeza?' }, class:"btn btn-danger" %></td>
          <td><input type="checkbox" <%= secret.enabled ? "checked".html_safe : "" %> data-toggle="toggle" class="disable-switch" data-onstyle="success" data-offstyle="danger"></td>
        </tr>
      <% end %>
    </tbody>
  </table>

</div>

<script>
  $(function() {
    $('.disable-switch').bootstrapToggle({
      on: 'Up',
      off: 'Down'
    });
  })
</script>